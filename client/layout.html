<head>
  <title>Aggregation</title>
</head>

<body>
  {{> layout}}
</body>


<template name="layout">

  <table>

    <tr>
      <th colspan="2"><h1>Pub/Sub</h1></th>
    </tr>

    <tr>
      <th colspan="2">Count</th>
    </tr>
    {{#each psCount}}
      <tr>
        <td>
          {{key}}
        </td>
        <td>
          {{aggregate}}
        </td>
      </tr>
    {{/each}}

    <tr>
      <th colspan="2">Averages</th>
    </tr>
    {{#each psAverages}}
      <tr>
        <td>
          {{key}}
        </td>
        <td>
          {{toFixed aggregate}}
        </td>
      </tr>
    {{/each}}

    <tr>
      <th colspan="2">Distribution</th>
    </tr>
    {{#each psDistribution}}
      <tr>
        <td>
          {{key}}
        </td>
        <td>
          {{aggregate}}
        </td>
      </tr>
    {{/each}}

  </table>


  <table>

    <tr>
      <th colspan="2"><h1>Methods</h1></th>
    </tr>

    <tr>
      <th colspan="2">Count</th>
    </tr>
    {{#each methodCount}}
      <tr>
        <td>
          {{_id}}
        </td>
        <td>
          {{count}}
        </td>
      </tr>
    {{/each}}

    <tr>
      <th colspan="2">Averages</th>
    </tr>
    {{#each methodAverages}}
      <tr>
        <td>
          {{_id}}
        </td>
        <td>
          {{toFixed avg}}
        </td>
      </tr>
    {{/each}}

    <tr>
      <th colspan="2">Distribution</th>
    </tr>
    {{#each methodDistribution}}
      <tr>
        <td>
          {{_id}}
        </td>
        <td>
          {{count}}
        </td>
      </tr>
    {{/each}}

  </table>

  <button type="button" class="btn btn-primary">Add a point</button>

</template>
